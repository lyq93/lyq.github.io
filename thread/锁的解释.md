## 锁的解释

> 1、一个资源类，两个普通同步方法A和B，分别打印A和B，main线程中使用同一个资源类对象，开启2个线程A和B分别调用A和B方法，A方法先调用，然后sleep200毫秒，调用B方法，输出结果？
>
> > A、B
>
> 2、A方法sleep4秒，输出结果？
>
> > A、B
>
> 3、资源类新增一个普通方法C，打印C，B线程调用C方法，A方法依旧sleep4秒，输出结果？
>
> > C、A
>
> 4、主线程中，使用2个资源类1和2，线程A和B分别调用1的A方法，A方法依旧sleep4秒，和2的B方法，输出结果？
>
> > B、A
>
> 5、资源类AB方法修改为静态同步方法，主线程使用同一个资源对象，线程AB分别调用AB方法，A方法依旧sleep4秒，输出结果？
>
> > A、B
>
> 6、主线程使用2个资源对象AB，线程AB分别调用AB静态同步方法，A方法依旧sleep4秒，输出结果？
>
> > A、B
>
> 7、A方法为普通同步方法，B方法为静态同步方法，主线程使用一个资源对象两个线程AB分别调用AB方法，A方法依旧sleep4秒，输出结果？
>
> > B、A
>
> 8、A方法为普通同步方法，B方法为静态同步方法，主线程使用两个资源对象两个线程AB分别调用AB方法，A方法依旧sleep4秒，输出结果？
>
> > B、A

> 对上述结果作出解释：
>
> - 对于一个资源类而言，普通同步方法锁的是this对象
>
> 1、如果使用同一对象访问访问该资源类中的普通同步方法需要竞争锁
>
> 2、访问非同步方法，则不需要抢锁可正常访问
>
> 3、访问静态同步方法，因与普通同步方法的锁对象不同，因此不需要竞争对象锁
>
> - 对于多个资源类而言，每个资源类对象都是一把不同的锁
>
> 1、不同资源类对象，访问普通同步方法不需要竞争非该对象锁
>
> 2、不同资源类对象，访问非同步方法不需要竞争锁
>
> 3、不同资源类对象，访问静态同步方法不需要竞争对象锁
>
> - 静态同步方法可以理解为锁的是class文件
>
> 不管是一个或者多个资源类，都需要竞争class文件锁
>
> 核心是要区分锁的是对象还是class文件